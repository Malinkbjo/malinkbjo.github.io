<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Title</title>
</head>
<body>

    <canvas id="bCanvas" width="600" height="400"></canvas>
    <canvas id="fCanvas" width="600" height="400"></canvas>



    <script>
        // Referanser til HTML-element
        var bCanvas = document.getElementById("bCanvas");
        var ctx = bCanvas.getContext("2d");

            // Globale variabler
        var levende = true;

        var bane = {
            bredde:bCanvas.width,
            hoyde: bCanvas.height,
            bakgrunnsfarge: "grey"
        };
        var figur1 = {
            bredde: 30,
            hoyde: 30,
            farge: "orange",
            xpos: 100,
            ypos: 350,
            xfart: 5,
            yfart: 10,
            xretning:0,
            yretning:-5
        };
        var hinder = {
            bredde: 20,
            hoyde: 20,
            farge: "yellow",
            xpos: 500,
            ypos: 360,
            xfart: 5,
            yfart: 5,
            xretning:1,
            yretning:1

        };

        //Hendelsesfunksjon
        window.onkeydown = hoppFigur;

        // funksjonsdefinisjoner
       function gameLoop() {
           tegnBane();
           tegnFigur(figur1);
           flyttHinder(hinder);
           tegnHinder();
           sjekkKollisjon();
           if(levende){
               requestAnimationFrame(gameLoop);
           }
       }

        function tegnBane() {
            ctx.fillStyle = bane.bakgrunnsfarge;
            ctx.fillRect(0, 0, bane.bredde, bane.hoyde)
        }

        function tegnFigur(figur) {
            ctx.fillStyle = figur.farge;
            ctx.fillRect(figur.xpos, figur.ypos, figur.bredde, figur.hoyde)
        }

        function hoppFigur(event) {
            if(event.code === "Space"){
                figur1.ypos += -30;

            }

        }
        function flyttHinder(hinder) {
            hinder.xpos -= (hinder.xretning*hinder.xfart)
        }

        function tegnHinder() {
            ctx.fillStyle = hinder.farge;
            ctx.fillRect(hinder.xpos, hinder.ypos, hinder.bredde, hinder.hoyde)

        }

        function sjekkKollisjon() {

        }

        // setup/start
       gameLoop();

    </script>

</body>
</html>